{% extends 'base/logged.html' %}

{% block page_title %}{{ _('Add delivery method') }}{% endblock %}

{% block main_content %}
    <div class="relative flex">

        <!-- Content -->
        <div class="w-full">

            <div class="min-h-[100dvh] h-full flex flex-col after:flex-1">

                <!-- Progress bar -->
                <div class="px-4 pt-12 pb-8">
                    <div class="max-w-4xl mx-auto w-full">
                        <div class="relative">
                            <div class="absolute left-0 top-1/2 -mt-px w-full h-0.5 bg-slate-200 dark:bg-slate-700"
                                 aria-hidden="true"></div>
                            <ul class="relative flex justify-between w-full">
                                <li class="flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-white dark:bg-slate-700 text-slate-500 dark:text-slate-400">
                                    1
                                </li>
                                <li class="flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-white dark:bg-slate-700 text-slate-500 dark:text-slate-400">
                                    2
                                </li>
                                <li class="flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-white dark:bg-slate-700 text-slate-500 dark:text-slate-400">
                                    3
                                </li>
                                <li class="flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-indigo-500 text-white">
                                    4
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div>
                    <div class="max-w-4xl mx-auto">

                        <h1 class="text-3xl text-slate-800 dark:text-slate-100 font-bold mb-6">{{ _('Delivery methods') }}</h1>
                        <a href="/restaurants/{{ restaurant_id }}/delivery-method"
                           class="btn bg-indigo-500 hover:bg-indigo-600 text-white">{{ _('Add delivery method') }}</a>

                        <!-- loading overlay -->
                        <div class="absolute bg-white bg-opacity-60 z-10 h-full max-w-lg mx-auto w-full flex items-center justify-center"
                             data-loading="flex">
                            <div class="flex items-center">
                                <span class="text-3xl mr-4">{{ _('Loading') }}</span>
                                <svg class="animate-spin w-4 h-4 fill-current shrink-0" viewBox="0 0 16 16">
                                    <path d="M8 16a7.928 7.928 0 01-3.428-.77l.857-1.807A6.006 6.006 0 0014 8c0-3.309-2.691-6-6-6a6.006 6.006 0 00-5.422 8.572l-1.806.859A7.929 7.929 0 010 8c0-4.411 3.589-8 8-8s8 3.589 8 8-3.589 8-8 8z"/>
                                </svg>
                            </div>
                        </div>

                        <!-- Restaurant's delivery methods -->
                        {% include 'restaurant/delivery_methods/partials/delivery_methods.html' %}

                        {% if delivery_methods %}
                            <div class="max-w-4xl mx-auto p-4 text-right">
                                <a href="{{ url_for('main.load_add_payment_receive_account_to_restaurant', restaurant_id=restaurant_id) }}"
                                   class="btn bg-indigo-500 hover:bg-indigo-600 text-white">
                                    <svg class="w-4 h-4 fill-current opacity-50 shrink-0" viewBox="0 0 16 16">
                                        <path d="M1 8h12.59l-5.3-5.29L9 1l7 7-7 7-1.71-1.71L13.59 8H1z"></path>
                                    </svg>
                                    <span class="ml-2">{{ _('Configure payment receive account') }}</span>
                                </a>
                            </div>
                        {% endif %}
                    </div>
                </div>

            </div>

        </div>
    </div>
{% endblock %}
